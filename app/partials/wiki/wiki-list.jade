doctype html

div.wrapper(ng-controller="WikiPagesListController as ctrl",
            ng-init="section='wiki'")
    tg-project-menu
    sidebar.menu-secondary.extrabar(ng-if="linksVisible")
        section.wiki-nav(tg-wiki-nav, ng-model="wikiLinks")
    section.main.wiki
        header
            h1
                span(tg-bo-bind="project.name")
                span.green(translate="WIKI.LIST_OF_WIKI_PAGES")

        section.wiki-pages-table.basic-table
            div.row.title
                div.title-field(data-fieldname="title", translate="WIKI.PAGES-LIST-COLUMNS.TITLE")
                div.editions-field(data-fieldname="editions", translate="WIKI.PAGES-LIST-COLUMNS.EDITIONS")
                div.creator-field(data-fieldname="owner", translate="WIKI.PAGES-LIST-COLUMNS.CREATOR")
                div.created-field(data-fieldname="created_date", translate="WIKI.PAGES-LIST-COLUMNS.CREATED")
                div.last-modifier-field(data-fieldname="last_modifier", translate="WIKI.PAGES-LIST-COLUMNS.LAST-MODIFIER")
                div.modified-field(data-fieldname="modified_date", translate="WIKI.PAGES-LIST-COLUMNS.MODIFIED")

            div.row.table-main(ng-repeat="wikipage in wikipages track by wikipage.slug")
                div.title-field
                    a(href="", tg-nav="project-wiki-page:project=project.slug,slug=wikipage.slug") {{wikipage.slug}}
                div.editions-field {{wikipage.editions}}
                div.creator-field(tg-user-display, tg-user-id="{{wikipage.owner}}")
                div.created-field(tg-bo-bind="wikipage.created_date|momentFormat:'DD MMM YYYY HH:mm'")
                div.last-modifier-field(tg-user-display, tg-user-id="{{wikipage.last_modifier}}")
                div.modified-field(tg-bo-bind="wikipage.modified_date|momentFormat:'DD MMM YYYY HH:mm'")
